# Guitar Tabs (chord & scale library)

- **Chords** – Loaded from **TuxGuitar-style JSON** (`chords.json`). Generated by `node scripts/generate-chords-from-library.js`; contains 800+ chord keys with multiple voicings. Schema: aliases, displayNames, chords (key → voicings with `baseFret`, `frets`, etc.).
- **Scales** – From **[tonal.js](https://github.com/tonaljs/tonal)** at runtime (`scaleFromTonal.ts`). No static scale JSON. Supports all scale types and modes (major, minor, dorian, phrygian, lydian, mixolydian, aeolian, locrian, pentatonics, blues, etc.). Six voicings per scale at frets 1, 5, 10, 12, 15, 20.

See **`TUXGUITAR_CHORD_SOURCE.md`** for chord strategy. Scale data is computed from tonal’s pitch-class sets and standard tuning (E A D G B e).

## Regenerating chord data from chords-db

To replace or refresh chord data from the open-source chords-db library (Node 18+), run from the **project root** (the folder that contains `frontend/`):

```bash
cd /path/to/DesktopRobot
node frontend/scripts/generate-chords-from-library.js
```

This fetches the latest guitar.json from chords-db and overwrites `frontend/src/components/guitarTabs/chords.json`.

## Extracting more chords from Guitar Pro / TuxGuitar

To add chords from a TuxGuitar-exported (or any) Guitar Pro file:

1. Install PyGuitarPro:  
   `pip install pyguitarpro`
2. Run the extractor from the repo root:  
   `python frontend/scripts/extract_chords_from_gp.py path/to/file.gp5`
3. The script prints a JSON object `{ "chords": { "key": [ voicing, ... ] } }`. Merge the `chords` entries you want into `chords.json` (under `chords`), and ensure `displayNames` and `aliases` include any new keys.

No TuxGuitar or Guitar Pro binaries are bundled; only the extracted JSON is used at runtime.

## Scale data (tonal.js)

Scales are computed at runtime from **tonal**. No regeneration step. Supported inputs (with the word “scale” so the app treats them as scales): e.g. “G major scale”, “A dorian scale”, “E minor scale”, “C major pentatonic scale”. See `scaleFromTonal.ts` for the list of scale types and modes.

The optional `scales.json` and `scales-legacy.json` (and `generate-scales-from-library.js`) are no longer used by the app; they can be kept for reference or removed.
