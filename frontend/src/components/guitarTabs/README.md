# Guitar Tabs (chord & scale library)

Chord and scale data are loaded from **TuxGuitar-style JSON** at runtime:

- **`chords.json`** – Chord data from **chords-db** (tombatossals/chords-db, MIT). Generated by `node scripts/generate-chords-from-library.js`; contains 800+ chord keys with multiple voicings each. Schema: aliases, displayNames, and chords (key → array of voicings with `name`, `quality`, `baseFret`, `frets`, optional `fingers` and `barre`).
- **`scales.json`** – Scale data in the **same schema as chords**: `aliases`, `displayNames`, and `scales` (key → array of voicings with `fretOffset` and `positions`). Generated from `scales-legacy.json` by `node scripts/generate-scales-from-library.js`. The app uses only this file at runtime (no derived names or types).

See **`TUXGUITAR_CHORD_SOURCE.md`** in the repo root for the overall strategy (TuxGuitar as data source only, no runtime dependency).

## Regenerating chord data from chords-db

To replace or refresh chord data from the open-source chords-db library (Node 18+), run from the **project root** (the folder that contains `frontend/`):

```bash
cd /path/to/DesktopRobot
node frontend/scripts/generate-chords-from-library.js
```

This fetches the latest guitar.json from chords-db and overwrites `frontend/src/components/guitarTabs/chords.json`.

## Extracting more chords from Guitar Pro / TuxGuitar

To add chords from a TuxGuitar-exported (or any) Guitar Pro file:

1. Install PyGuitarPro:  
   `pip install pyguitarpro`
2. Run the extractor from the repo root:  
   `python frontend/scripts/extract_chords_from_gp.py path/to/file.gp5`
3. The script prints a JSON object `{ "chords": { "key": [ voicing, ... ] } }`. Merge the `chords` entries you want into `chords.json` (under `chords`), and ensure `displayNames` and `aliases` include any new keys.

No TuxGuitar or Guitar Pro binaries are bundled; only the extracted JSON is used at runtime.

## Regenerating scale data

Scales use the same library pattern as chords (aliases, displayNames, voicings per key). To regenerate `scales.json` from the legacy scale definitions (e.g. after editing `scales-legacy.json`), run from the project root:

```bash
node frontend/scripts/generate-scales-from-library.js
```

This reads `frontend/src/components/guitarTabs/scales-legacy.json` (scaleKeys + positionStep + shapes) and writes `scales.json`. Runtime uses only `scales.json`.
